Quest: JHFG113
DisplayName: Нежный великан
-- Message panels
QRC:

QuestorOffer:  [1000]
<ce> У меня, пожалуй, странная просьба.
<ce> В ___res_ в дом залез великан, но он
<ce> никому не причиняет вреда. Просто сидит там,
<ce> прячась от солнца. Не знаю, понимаете
<ce> ли вы хоть немного язык великанов, 
<ce> но не хотите ли попробовать выгнать его
<ce> или выманить из дома?

RefuseQuest:  [1001]
<ce> Что ж, я пытался. Может быть, они как-нибудь
<ce> пристроят его за обеденным столом.
   <--->
<ce> Ну, им ничего не угрожает.
<ce> Хотя это, должно быть, неудобно.
   <--->
<ce> Вы знаете, как сильно пахнет великан, %pcf?

AcceptQuest:  [1002]
<ce> Есть два способа вытащить великана 
<ce> из дома: живым или мертвым. Клиент 
<ce> не возражает, если великан умрет.
<ce> Как-то так. На случай, если вы действительно
<ce> хорошо владеете его языком, может быть,
<ce> вы попробуете показать ему этот кусок
<ce> от _ing_. Не знаю, съест ли он это,
<ce> но попробовать стоит, я считаю. В любом
<ce> случае, это в _res_, ___res_. 
<ce> Вернитесь сюда через =timer_ дней. Берегите себя.

QuestFail:  [1003]
<ce> _qgiver_ велел вам вернуться 
<ce> в ___qgiver_ сегодня, чтобы рассказать,
<ce> что случилось с великаном.

QuestComplete:  [1004]
<ce> Ну, как все прошло? Что ж, я думаю, это
<ce> лучшее, на что мы могли надеяться.
<ce> Спасибо, что не подвели нас. Сбережения
<ce> семьи исчезли примерно в то же время,
<ce> когда появился великан, так что на этот
<ce> раз мы не заплатим, извините.

Message:  1019
<ce> Несмотря на мирное поведение этого великана,
<ce> дом, который он занял, ни с чем нельзя спутать.
<ce> Вы знаете, что находитесь в нужном здании.

Message:  1020
<ce> Великан громко кричит, готовясь дать отпор.
   <--->
<ce> Этот некогда мирный великан теперь закатывает истерику.

Message:  1021
<ce> (ПРОВЕРКА НАВЫКА ПРОЙДЕНА: Язык великанов)
<ce>
<ce> Вы бросаете _ing_ великану. Он вежливо
<ce> берет это и кладет в свой мешок. Затем вы 
<ce> заводите с ним короткую и простую
<ce> беседу. Он объясняет, что поселился
<ce> в этом доме из-за своей нелюбви к боям
<ce> и трудностей с проживанием со своими
<ce> родственниками. Вы объясняете,
<ce> что здесь его жизнь в опасности и что ему
<ce> следует переехать в другой регион.
<ce> Он благодарит вас за вашу добрую волю
<ce> и обещает скоро уехать.
<ce>
<ce> Когда вы готовитесь уйти, он достает из-под
<ce> ближайшей половицы сумку из медвежьей кожи.
<ce> Не найдя этому применения, он отдает вам
<ce> содержимое, которое составляет =reward_ золотых.
   <--->
<ce> (ПРОВЕРКА НАВЫКА ПРОЙДЕНА: Язык великанов)
<ce>
<ce> Вы бросаете _ing_ великану. Он вежливо
<ce> берет это и кладет в свой мешок. Затем
<ce> вы заводите с ним короткую и простую
<ce> беседу. Он объясняет, что воспользовался
<ce> гостеприимством этого жилища в надежде
<ce> как-то договориться, как только поймет
<ce> язык хозяев. Вы объясняете, что семья 
<ce> этого не примет и что ему следует
<ce> переехать в другой регион.
<ce> Он благодарит вас за вашу добрую волю
<ce> и обещает скоро уехать.
<ce>
<ce> Когда вы готовитесь уйти, он достает из-под
<ce> ближайшей половицы сумку из медвежьей кожи.
<ce> Не найдя этому применения, он отдает вам
<ce> содержимое, которое составляет =reward_ золотых.

Message:  1022
<ce> Вы убили великана, обитающего в _res_.
<ce> Пора возвращаться в ___qgiver_.

Message:  1023
<ce> (ПРОВЕРКА НАВЫКА ПРОВАЛЕНА: Язык великанов)
<ce>
<ce> Вы показываете великану _ing_. 
<ce> Он благосклонно принимает это и кладет 
<ce> в свой мешок. Вы пытаетесь завязать
<ce> элементарный разговор, но лицо существа
<ce> все время остается озадаченным. 
<ce> Вы не добились никакого прогресса.

Message:  1030
%qdt:
 _qgiver_ из ___qgiver_
 сказал мне, что великан
 поселился в _res_,
 ___res_. Самое важное
 для клиента - чтобы великан 
 ушел как можно скорее.
 Мне нужно будет вернуться
 через =timer_ дней.

QBN:
Item _ing_ small_plant
Item _reward_ gold range 150 to 200

Person _qgiver_ group Questor male

Place _res_ remote house

Clock _timer_ 00:00 0 flag 17 range 0 2

Foe _giant_ is Giant

--	Quest start-up:
    log 1030 step 0
    get item _ing_
    start timer _timer_
    pc at _res_ set _inside_
    place foe _giant_ at _res_
    restrain foe _giant_

_injur_ task:
    injured _giant_
    clicked foe _giant_
    say 1020
    change foe _giant_ infighting true

_inside_ task:
    start task _check_
    say 1019
    _ing_ used do _persuade_

_click_ task:
    clicked foe _giant_
    start task _persuade_

variable _check_
_slain_ task:
    killed _giant_
    say 1022

variable _persuade_
_skilled_ task:
    when skill Giantish is at least 20

_bigsuccess_ task:
    when _persuade_ and _skilled_ and not _injur_
    say 1021
    take _ing_ from pc
    get item _reward_
    make _reward_ permanent
    remove foe _giant_

_fail_ task:
    when _persuade_ and not _skilled_ and not _injur_
    say 1023
    restrain foe _giant_
    take _ing_ from pc
    give item _ing_ to _giant_

_qgclicked_ task:
    clicked npc _qgiver_

_clearclick_ task:
    when _qgclicked_ and not _check_
    clear _qgclicked_ _clearclick_

_victory1_ task:
    when _qgclicked_ and _slain_
    start task _final_

_victory2_ task:
    when _qgclicked_ and _bigsuccess_
    start task _final_

_final_ task:
    give pc nothing
    end quest

_timer_ task:
    say 1003
    end quest